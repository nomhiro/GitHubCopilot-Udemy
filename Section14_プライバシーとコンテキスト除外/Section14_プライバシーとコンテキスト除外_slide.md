---
marp: true
theme: custom-theme
paginate: true
---

<!-- _class: title -->
<!-- _paginate: false -->

# プライバシーとコンテキスト除外

---

# 学習目標

このセクションでは以下の内容を学習します。

- SKU別の**プライバシー考慮事項**を理解する
- **コンテンツ除外**の概念と効果を説明できる
- リポジトリ・組織での**コンテンツ除外設定**方法を把握する
- **IP補償**と**重複検出フィルター**を理解する
- GitHub.comでの**Copilot設定構成**を把握する

<span class="red">試験ポイント: このセクションは試験全体の15%を占めます</span>

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# SKU別プライバシー考慮事項

---

# GitHub Copilotのプラン別プライバシー機能

各プランによってプライバシー機能と制御オプションが異なります。

<span class="red">ポイント: コンテンツ除外とIP補償はBusiness/Enterprise限定</span>

| プラン | コンテンツ除外 | IP補償 | データ収集制御 |
|--------|--------------|--------|--------------|
| **Free** | ❌ | ❌ | 制限あり |
| **Pro** | ❌ | ❌ | 個人設定可能 |
| **Business** | ✅ | ✅ | 組織レベルで制御 |
| **Enterprise** | ✅ | ✅ | 完全な制御 |

---

# データ収集・共有の違い

<span class="red">試験ポイント: Business/Enterpriseではデータがトレーニングに使用されない</span>

## Free/Proプラン

- プロンプトと提案のデータがモデル改善に使用される**可能性あり**
- 個人設定で制御可能な項目が限定的

## Business/Enterpriseプラン

- デフォルトでデータ共有**なし**
- プロンプトと提案はモデルのトレーニングに使用されない
- 組織レベルでの完全な制御が可能

---

# 組織レベルでの制御オプション

Business/Enterpriseプランでは、管理者が以下を制御できます。

| 設定項目 | 説明 |
|---------|------|
| **プロンプト収集** | コード提案のためのプロンプト収集を有効/無効化 |
| **提案収集** | コード提案の収集を有効/無効化 |
| **コンテンツ除外** | 特定ファイル/ディレクトリをCopilotから除外 |
| **パブリックコード一致** | 公開コードと一致する提案をブロック |

**注意**: EMU（Enterprise Managed Users）アカウントはCopilot Freeを利用できません

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# コンテンツ除外の概念と効果

---

# コンテンツ除外とは

GitHub Copilotのコンテンツ除外機能は、コード補完候補の通知において**特定のファイル、ディレクトリ、またはリポジトリを使用しないようにする**ことで、機密情報を保護するための機能です。

## 主な目的

- 機密情報（APIキー、パスワード等）の保護
- セキュリティポリシーへの準拠
- 知的財産の保護

<span class="red">試験ポイント: コンテンツ除外はBusiness/Enterpriseプラン限定の機能</span>

---

# コード提案に対するコンテンツ除外の影響

コンテンツ除外を設定すると、以下の影響があります。

| 影響範囲 | 詳細 |
|---------|------|
| **コード補完の無効化** | 影響を受けるファイルでは、コードの入力候補を利用できなくなる |
| **コンテキストからの除外** | 対象となるファイル内のコンテンツは、その他のファイルのコード補完候補に使用されなくなる |
| **Chat応答への影響** | 対象となるファイルのコンテンツは、GitHub Copilot Chatの応答に使用されなくなる |

---

# セキュリティと機能のバランス

コンテンツ除外はセキュリティを向上させますが、機能に影響を与えます。

## メリット

- より安全で準拠したコード候補が得られる
- 機密情報がCopilotの提案に含まれることを防止

## 考慮事項

- GitHub Copilotで使用できる**全体的なコンテキストが減少**する
- 提案の**精度と有用性に影響**する可能性がある

**ベストプラクティス**: 除外する必要があるファイルを慎重に分析し、セキュリティと機能のバランスを取ることが不可欠

---

# 設定の適用範囲

コンテンツの除外は、**組織またはリポジトリの設定**でのみ指定できます。

| 項目 | 説明 |
|------|------|
| **適用対象** | GitHub Copilot BusinessまたはEnterpriseサブスクリプションのライセンスを持つすべてのメンバー |
| **設定場所** | エンタープライズ内の組織またはリポジトリ |
| **個人設定** | 個人レベルでの設定は**不可** |

<span class="red">ポイント: コンテンツ除外は「組織」または「リポジトリ」設定でのみ可能</span>

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# リポジトリ・組織でのコンテンツ除外設定

---

# リポジトリでのコンテンツ除外設定

## 設定手順

1. GitHubで、リポジトリのメインページに移動
2. リポジトリ名の下にある **[Settings]** を選択
3. サイドバーの **[Code & automation]** セクションで **[Copilot]** を選択
4. **[Paths to exclude]** セクションで除外するファイル/ディレクトリを指定

---

# 組織でのコンテンツ除外設定

## 設定手順

1. GitHubの右上隅にあるプロフィール写真を選択し、**[Your organizations]** をクリック
2. 組織の隣の **[Settings]** を選択
3. 左側のサイドバーで、**[Copilot]** > **[Content exclusion]** を選択
4. 除外するファイルまたはリポジトリの詳細を入力

---

# 設定パターンの例

| パターン | 説明 |
|---------|------|
| `.env` | ルートの.envファイル |
| `**/.env` | 全階層の.envファイル |
| `secrets/` | secretsディレクトリ全体 |
| `**/secrets/**` | 全階層のsecretsディレクトリ |
| `*.key` | ルートの全ての.keyファイル |
| `**/*.key` | 全階層の全ての.keyファイル |
| `config/credentials.json` | 特定のファイルパス |

※`**` は全階層を意味するワイルドカード

---

# 適用範囲の確認

設定後、以下の点を確認しましょう。

## チェックリスト

- ✅ 除外設定がCopilot Business/Enterpriseメンバーに適用されている
- ✅ 対象ファイルでCopilotの提案が表示されないことを確認
- ✅ 他のファイルでの提案に、除外ファイルの内容が使われていないことを確認

**注意**: 設定変更が反映されるまでに時間がかかる場合があります

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# Copilot出力の所有権について

---

# 出力コードの所有権

GitHub Copilotが生成したコードの所有権について理解しましょう。

## 基本原則

- **ユーザーが生成したコードはユーザーに帰属**
- GitHubはCopilotが生成したコードの所有権を主張しない
- 生成されたコードはユーザーのプロジェクトの一部として扱われる

## Business/Enterpriseの場合

- プロンプトと提案はモデルのトレーニングに**使用されない**
- ユーザーのコードはGitHubによって保持されない

<span class="red">試験ポイント: 生成コードの所有権はユーザーに帰属</span>

---

# 著作権とライセンスの考慮事項

Copilotが生成するコードには著作権上の考慮が必要です。

## 注意すべき点

| 項目 | 説明 |
|------|------|
| **公開コードとの類似** | 生成コードがパブリックコードと類似する可能性 |
| **ライセンス確認** | 使用前にコードのライセンスを確認することを推奨 |
| **コードレビュー** | 生成されたコードは必ずレビューすること |

## 対策

- **パブリックコード一致フィルター**を有効にする
- 生成されたコードの出典を確認する

---

# IP補償との関連

GitHub Copilot Business/Enterpriseでは**IP補償（知的財産補償）**が提供されます。

## IP補償を受けるための条件

| 条件 | 必須 |
|------|------|
| Business/Enterpriseプランを使用 | ✅ |
| [Matching public code]設定を「ブロック」に設定 | ✅ |

## 保護内容

- Copilotの提案がサードパーティのIP権利を侵害しているとの申し立てを受けた場合、**GitHubが法的責任を負う**

<span class="red">試験ポイント: IP補償にはBusiness/Enterprise + パブリックコード一致ブロックが必要</span>

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# 重複検出フィルターと契約上の保護

---

# 契約上の保護

GitHub Copilotでは、組織が法的要件に準拠できるよう、以下の保護を提供しています。

| 保護 | 説明 |
|------|------|
| **IP補償** | 知的財産請求に対する法的保護 |
| **データ保護契約（DPA）** | データプライバシー規制への準拠を保証 |
| **トラスト センター** | セキュリティ、プライバシー、コンプライアンス情報を提供 |

<span class="red">試験ポイント: IP補償はBusiness/Enterprise限定</span>

---

# IP補償（知的財産補償）

## IP補償の詳細

| 項目 | 内容 |
|------|------|
| **対象プラン** | GitHub Copilot BusinessおよびEnterprise |
| **内容** | Copilotの提案の使用に関連する知的財産請求に対する法的保護 |
| **重要条件** | [Matching public code]設定を「ブロック」に設定する必要がある |
| **保護範囲** | サードパーティのIP権利侵害の申し立てに対してGitHubが法的責任を負う |

---

## データ保護契約（DPA）

- ユーザーのデータを保護
- データプライバシー規制への確実な準拠
- 透明性の確保
- データが安全かつ責任を持って処理されることを保証

## GitHub Copilot トラスト センター

| 提供情報 | 内容 |
|---------|------|
| セキュリティ | セキュリティ対策の詳細 |
| プライバシー | データ取り扱いポリシー |
| コンプライアンス | 法規制への準拠状況 |
| 知的財産権のセーフガード | IP保護に関する情報 |

---

# 一致するパブリックコードのフィルター

## 機能の概要

- 一般公開されているコードと一致するコードの提案を**特定して除外**
- コードが重複する可能性を**最小限に抑える**
- コードベースの**独創性とセキュリティを維持**
- セキュリティで保護されていないコードや非準拠のコードをプロジェクトに組み込むリスクを**軽減**

---

# パブリックコード一致フィルターの設定手順

## 組織/エンタープライズでの設定

1. GitHubの右上隅にあるプロフィール写真を選択
2. **[Your enterprises]** または **[Your organizations]** を選択
3. エンタープライズまたは組織の横にある **[Settings]** を選択
4. 左サイドバーで **[Copilot]** を選択
5. **[Suggestions]** で、**[Matching public code]** のドロップダウンを選択
6. **[Block]** を選択
7. **[Save]** を選択して新しい設定を確認

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# GitHub.comでのCopilot設定構成

---

# 個人設定

<span class="red">個人のCopilot設定は `github.com/settings/copilot` で管理できます。</span>

## 主な設定項目

| 設定 | 説明 |
|------|------|
| **Suggestions** | コード提案のオン/オフ |
| **Matching public code** | パブリックコードと一致する提案のブロック |
| **Editor settings** | エディタ別の設定 |

---

# 組織/エンタープライズ設定

## ポリシー管理

| 設定 | 説明 |
|------|------|
| **Copilotの有効化/無効化** | 組織メンバーのCopilot利用を制御 |
| **機能の制限** | 利用可能な機能を制限 |
| **コンテンツ除外** | 除外するファイル/リポジトリを指定 |

## データ収集設定

| 設定 | 説明 |
|------|------|
| **プロンプト収集** | 有効/無効の切り替え |
| **提案収集** | 有効/無効の切り替え |

---

# 重複検出の有効化/無効化

## 設定場所

- **個人**: `github.com/settings/copilot` > Features
- **組織**: Organization settings > Copilot > Policies

## 設定オプション

| オプション | 説明 |
|-----------|------|
| **Allow** | パブリックコードと一致する提案を許可 |
| **Block** | パブリックコードと一致する提案をブロック |

<span class="red">試験ポイント: 「Block」設定がIP補償の条件</span>

---

<!-- _class: lecture -->
<!-- _paginate: false -->

# セキュリティチェックと警告

---

# Copilotのセキュリティフィルター

GitHub Copilotには複数のセキュリティフィルターが組み込まれています。

## 有害性フィルター（毒性フィルター）

| 対象 | 説明 |
|------|------|
| **ヘイトスピーチ** | 差別的な内容を検出・除外 |
| **攻撃的な言語** | 不適切な表現を検出・除外 |
| **不適切なコンテンツ** | 有害なコンテンツを検出・除外 |

## 個人データの除外

- 名前、住所、ID番号などの個人データを検出
- 提案から個人情報を除外

<span class="red">試験ポイント: 毒性フィルターはヘイトスピーチや不適切コンテンツを除外</span>

---

# セキュリティ脆弱性の検出

## 検出可能な脆弱性

| 脆弱性 | 説明 |
|--------|------|
| **SQLインジェクション** | 不正なSQL文の挿入を検出 |
| **XSS** | クロスサイトスクリプティングを検出 |
| **認証バイパス** | 認証を迂回するコードを検出 |
| **安全でない入力処理** | 未検証の入力を検出 |

## 対策

- Copilotがセキュリティリスクを警告
- より安全な代替コードを提案

---

# セキュアなコーディング支援

GitHub Copilotはセキュアなコーディングを支援します。

## 主な機能

| 機能 | 説明 |
|------|------|
| **安全なパターンの提案** | セキュリティベストプラクティスに基づく提案 |
| **パラメータ化クエリ** | SQLインジェクション対策の提案 |
| **入力検証** | ユーザー入力の適切な検証方法を提案 |
| **暗号化** | 適切な暗号化手法の提案 |

<span class="red">ポイント: Copilotはセキュリティ脆弱性を検出し、安全な代替を提案</span>

---

# セクションまとめ

## 主要ポイント

| トピック | キーポイント |
|---------|-------------|
| **コンテンツ除外** | Business/Enterprise限定、組織/リポジトリ設定で構成 |
| **IP補償** | Business/Enterprise + パブリックコード一致ブロックが条件 |
| **重複検出** | パブリックコードとの一致を検出・ブロック |
| **設定場所** | github.com/settings/copilot（個人）、組織設定（管理者） |
| **制限事項** | @github使用時は除外適用されない、組織メンバーのみに適用 |

---

# 試験対策ポイント

## よくある間違い選択肢

| ❌ 間違い | ✅ 正解 |
|----------|---------|
| コンテンツ除外は全プランで利用可能 | Business/Enterprise限定 |
| 個人設定でコンテンツ除外可能 | 組織/リポジトリ設定でのみ可能 |
| IP補償は自動的に適用される | パブリックコード一致を「ブロック」に設定が必要 |
| 除外設定は全ユーザーに適用 | 組織メンバーのみに適用 |
| @github使用時も除外が適用 | @github使用時は除外が適用されない |
| 対象ファイルがGitHubから削除される | 削除されない、Copilotから除外されるだけ |

---

<!-- _class: title -->
<!-- _paginate: false -->

# プライバシーとコンテキスト除外
