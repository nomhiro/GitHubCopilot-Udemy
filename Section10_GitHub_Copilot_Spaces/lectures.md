# セクション10: GitHub Copilot Spaces

## 参照リソース
- [GitHub Copilot Spaces の概要 - Microsoft Learn](https://learn.microsoft.com/ja-jp/training/modules/introduction-copilot-spaces/)
- [スペースで働く際のすべきこととすべきでないこと - Microsoft Learn](https://learn.microsoft.com/ja-jp/training/modules/introduction-copilot-spaces/6-working-guide-space)

---

## レクチャー1: GitHub Copilot Spacesとは（概要と利点）
**時間目安: 10分**

### GitHub Copilot Spacesとは

GitHub Copilot Spaces は、厳密にキュレーションされたコンテキストで AI を操作する新しい方法を提供します。一般的な Copilot チャットとは異なり、特定のファイル、問題、プル要求、および調整された命令にモデルを集中させることで、より一貫性のある再現可能な回答を実現します。

### 学習目標
- スペースとは何か、そしていつ使用すべきか（一般的なCopilotチャットとの比較）
- ターゲットコンテキストとカスタム命令を使用してスペースを作成、構成、反復処理する
- モデルコンテキストの制限内で高品質で根拠のある回答にベストプラクティスを適用する

### 前提条件
- アクティブなCopilotサブスクリプションを持つGitHubアカウント
- 環境内のSpaces機能へのアクセス
- リポジトリ、Issue、プルリクエストに関する基本的な知識

### 使用すべき場面
- 特定のサービス、Runbook、プレイブックに関する一貫性のある回答が必要な場合
- 既知のデータセットについての予測可能で根拠のある応答が必要な場合
- 幅より深さを重視する場合

---

## レクチャー2: 最初のスペースの作成
**時間目安: 10分**

### スペースの作成手順

1. https://github.com/copilot/spaces に移動し、「スペースの作成」をクリック
2. スペースに名前を付ける
3. 所有者を選択（個人または組織）
4. 説明を追加（オプション）- Copilotの回答には影響しないが、他のユーザーの理解を助ける
5. 「保存」をクリック

### 名前と説明の編集

スペースの右上隅にある「編集」をクリックすると、スペースの名前と説明をいつでも変更できます。

### 所有権の選択

| 所有権タイプ | 説明 |
|------------|------|
| 個人所有 | 自分だけが使用するスペース |
| 組織所有 | GitHubの組み込みアクセス許可モデルを使用して、組織内のメンバーと共有可能 |

### コンテキストの2種類

| 種類 | 説明 |
|------|------|
| 手順（Instructions） | このスペース内でCopilotが注目すべき内容を説明するフリーテキスト。専門分野、支援すべきタスクの種類、避けるべきタスクを記載。Copilotが意図に基づいてより関連性の高い回答を提供できるようになる |
| 添付ファイル（Attachments） | 質問に対してより関連性の高い回答を提供するために使用。スペースは常にリポジトリのメインブランチ上の最新バージョンのコードを参照 |

### 添付ファイルの種類

| 種類 | 説明 | 含まれるもの |
|------|------|------------|
| ファイル/フォルダー | GitHubリポジトリからファイルとフォルダーを添付 | コードファイル、ドキュメント、構成ファイルなど |
| PR/Issue | GitHubの問題とプルリクエストのURLを貼り付け | Issue、Pull Request |
| ファイルアップロード | ローカルコンピューターから直接ファイルをアップロード | 画像、テキストファイル、リッチドキュメント、スプレッドシート |
| テキストコンテンツ | フリーテキストコンテンツを入力または貼り付け | トランスクリプト、ノート、その他の関連情報 |

---

## レクチャー3: 共有、検出可能性、ガバナンス
**時間目安: 10分**

### 可視性と共有
- 用途に応じて可視性を設定（個人/組織）
- 明確で目的に基づくタイトルと説明を使用
- 「スペースごとに1つのジョブ」の原則を維持

### セキュリティとアクセス
- GitHubの既存のアクセス許可に従う
- スペースは新しいアクセスを許可しない（閲覧者が既に閲覧権を持つコンテンツのみ表示）
- 機密データをフリーテキストノートに貼り付けない

### バージョン管理と鮮度
- リンクされたファイルはリポジトリの既定のブランチを反映
- 添付されたIssueとPRは変更に合わせて進化

### スペース作成・更新チェックリスト

**名前付けと目的**
- [ ] 明確な目的に基づくタイトルを選択（例：「ServiceName - Onboarding Helper」）
- [ ] 「スペースごとに1つのジョブ」の原則を維持
- [ ] 範囲、対象ユーザー、予想出力を示す1〜2文の説明を記述
- [ ] 手順の上部に「このスペースの使い方」の簡単なメモを追加

**所有権と可視性**
- [ ] 適切な所有者を設定（個人または組織）
- [ ] 適切な可視性を選択（プライベート、組織表示など）
- [ ] GitHubアクセス許可の継承を確認（スペースはリポジトリ/Issue/PRの権限を継承）
- [ ] URLを共有し、必要に応じてコラボレーターを追加

**セキュリティとプライバシー**
- [ ] 機密データをフリーテキストに貼り付けない
- [ ] バージョン管理されたファイルへのリンクを優先
- [ ] すべての添付ソースが選択した可視性に適していることを確認
- [ ] 古い資料や機密資料を削除

**検出可能性とドキュメント**
- [ ] スペース間で一貫した名前付け規則を使用（チーム/サービスプレフィックスが有効）
- [ ] 検索に役立つタグ/キーワードを説明に追加
- [ ] 組織の優先ディレクトリ/チャネル内でスペースをアナウンスまたはカタログ化

**ケイデンスとガバナンスの確認**
- [ ] 更新を担当する保守管理者/所有者を割り当て
- [ ] レビュー周期を設定（毎月、リリースごとなど）
- [ ] 各レビューで実施: リンクの検証、代表的なプロンプトのテスト、例の更新、ノイズの多いソースの排除
- [ ] フィードバックと改善要求を追跡（Issue、ディスカッションなど）

---

## レクチャー4: スペースで作業する際のベストプラクティス
**時間目安: 8分**

### ガイドライン

| ガイドライン | 説明 |
|------------|------|
| 範囲を限定 | 質問は添付したソース（ファイル、Issue、PR、メモ）に厳密に設定 |
| @メンション禁止 | ユーザーのメンションでは誰にも通知されず、拡張機能も呼び出せない |
| 単一タスク集中 | スペースを1つのタスクまたはドメインに重点を置いた環境として扱う |
| 実行可能な出力 | 意図を確認→具体的な制約を追加→実行可能なコード/クエリを要求 |
| サイズ制限注意 | 警告や品質低下時はソースを減らすか、小さいスペースに分割 |
| 機密データ保護 | フリーテキストに貼り付けず、リポジトリ内ファイルにリンク |

### Do's（すべきこと）

| ガイドライン | 詳細 |
|------------|------|
| 質問の範囲を限定 | 添付したソース（ファイル、Issue、PR、メモ）に厳密に設定し、回答を根拠のあるものに保つ |
| 単一タスクに集中 | スペースを1つのタスクまたはドメインに集中させ、独自の用語を再利用して一貫性を強化 |
| 実行可能な出力を目指す | 意図を確認→具体的な制約で絞り込む→実行可能なコード/クエリを要求→ソースへの参照を含める |
| 応答がずれた場合は反復 | 指示を絞り、1〜3の高品質な例を追加し、ノイズの多い/無関係なソースを削除 |
| コンテキストを新鮮に保つ | バージョン管理ファイルをリンクしてリポジトリの既定ブランチを反映、重要なソース/例を先頭に配置（順序は応答に影響する可能性あり） |

### Don'ts（すべきでないこと）

| ガイドライン | 詳細 |
|------------|------|
| @メンション禁止 | スペース内でユーザーや他のCopilot拡張機能を@メンションしない（通知されず、拡張機能も呼び出せない） |
| 外部コンテンツを期待しない | 含まれていないコンテンツの取得を期待しない（明示的に添付したリポジトリ検索をサポートしている場合を除き、外部資料は発見されない） |
| スペースの肥大化を避ける | 単一のジョブを超えたり、モデルコンテキスト制限を超えたりしない。サイズ警告や回答の質の低下時はソースを減らすか、小さなスペースに分割して精度と予測可能性を回復 |
| 機密データの貼り付け禁止 | 機密データをフリーテキストノートに貼り付けない。リポジトリ内ファイルへのリンクを優先（標準的なレビューとアクセス許可が適用される） |

---

## レクチャー5: 【確認テスト】GitHub Copilot Spaces
**時間目安: 5分**

### 確認テスト（17問）

**Q1. GitHub Copilot Spaceが一般的なチャットより優れた選択肢となるのはどのような場合か？**
- A) 多数のリポジトリで広範な検出が必要な場合
- B) 厳密に範囲を指定したトピックで一貫性のある再現可能な回答が必要な場合
- C) Copilotで組織内の関連コンテンツを自動的に検出する場合
- D) 特定のタスクまたはドメインを考慮していない場合

<details>
<summary>解答</summary>
B) 厳密に範囲を指定したトピックで一貫性のある再現可能な回答が必要な場合 - Spacesは特定のファイル、Issue、PRにモデルを集中させることで、一貫性のある再現可能な回答を提供します。
</details>

**Q2. スペースの所有権と説明についての正しい記述はどれか？**
- A) スペースは組織所有である必要があり、個人用スペースはサポートされない
- B) 説明はCopilotの回答に影響を与える
- C) 個人または組織の所有権を選択でき、説明は人間の読者向けである
- D) 一度設定すると所有権は変更できない

<details>
<summary>解答</summary>
C) 個人または組織の所有権を選択でき、説明は人間の読者向けである - 説明はCopilotの応答には影響しませんが、他のユーザーがスペースのコンテキストを理解するのに役立ちます。
</details>

**Q3. スペース内でCopilotの使用可能なコンテキストを追加しないアクションはどれか？**
- A) GitHubリポジトリからのファイルまたはフォルダーの添付
- B) GitHubの問題とプルリクエストのURLの貼り付け
- C) ローカルファイル（テキストドキュメントやスプレッドシート）のアップロード
- D) Copilot拡張機能をSpaceチャットで実行するための@メンション

<details>
<summary>解答</summary>
D) Copilot拡張機能をSpaceチャットで実行するための@メンション - スペース内では@メンションでユーザーに通知されず、拡張機能も呼び出せません。
</details>

**Q4. スペースはセキュリティとリンクされたアイテムへのアクセスをどのように処理するか？**
- A) Spaceはリンクされているすべてのプライベートリポジトリへの一時的な読み取りアクセスを許可する
- B) SpaceはGitHubのアクセス許可を反映し、閲覧者が既に表示できる内容のみを表示する
- C) Spaceはリンクを持つすべてのユーザーがアクセスできるプライベートコンテンツのコピーを作成する
- D) Spaceではリポジトリ管理者が各ビューアーを手動で承認リストに追加する必要がある

<details>
<summary>解答</summary>
B) SpaceはGitHubのアクセス許可を反映し、閲覧者が既に表示できる内容のみを表示する - セキュリティはGitHubの既存のアクセス許可に従い、スペースは新しいアクセスを許可しません。
</details>

**Q5. Spaceでブランチ固有のガイダンスまたは履歴スナップショットが必要な場合、どうすべきか？**
- A) リポジトリの既定のブランチを変更してSpace応答をロックする
- B) 一般的なチャットに依存して古いバージョンを自動的に取得する
- C) 関連するファイルへの参照を絞り込み、簡単な例を追加するか、正確な内容を含むテキストファイルを添付する
- D) 機密の履歴コンテンツをフリーテキストノートに貼り付ける

<details>
<summary>解答</summary>
C) 関連するファイルへの参照を絞り込み、簡単な例を追加するか、正確な内容を含むテキストファイルを添付する - スペースは常にリポジトリの既定ブランチを参照するため、履歴スナップショットが必要な場合はテキストファイルを添付します。
</details>

**Q6. Spaceで実行可能で検証可能な出力を最もよくサポートするプロンプトパターンはどれか？**
- A) モデルのクリエイティブを維持するために制約のない概要を求める
- B) 意図を確認し、具体的な制約（形式、範囲、ファイルパス）を追加し、参照を含む実行可能な出力を要求する
- C) 多くの広範な命令を使用してコンテキストを可能な限り広げる
- D) オーバーフィットを防ぐためにアタッチされたソースを参照しないようにする

<details>
<summary>解答</summary>
B) 意図を確認し、具体的な制約（形式、範囲、ファイルパス）を追加し、参照を含む実行可能な出力を要求する - 最初に意図を確認し、具体的な制約で絞り込み、実行可能なコード、クエリ、またはコマンドを要求します。
</details>

**Q7. Spaceでサイズに関する警告や回答の曖昧さが増している場合、最善の対処法は？**
- A) より多くの例を追加してコンテキストを増やす
- B) ソースを減らすか、スペースを小さい単一ジョブのスペースに分割する
- C) @メンションで人を呼ぶ
- D) リポジトリのリンクをオフにしてスペースを固定する

<details>
<summary>解答</summary>
B) ソースを減らすか、スペースを小さい単一ジョブのスペースに分割する - モデルコンテキストの制限を超えないよう、ソースを減らすか複数の小さなスペースに分割して精度と予測可能性を回復します。
</details>

**Q8. スペースの名前と説明を変更するにはどうすればよいか？**
- A) スペースを削除して新規作成する
- B) GitHubサポートに連絡する
- C) スペースの右上隅にある「編集」をクリックする
- D) 組織管理者のみが変更できる

<details>
<summary>解答</summary>
C) スペースの右上隅にある「編集」をクリックする - スペースの名前と説明はいつでも編集可能です。
</details>

**Q9. スペースの「手順（Instructions）」セクションに記載すべき内容として適切なものは？**
- A) GitHubリポジトリのURL
- B) 専門分野、支援すべきタスクの種類、避けるべきタスク
- C) ユーザーの認証情報
- D) コードの実行結果

<details>
<summary>解答</summary>
B) 専門分野、支援すべきタスクの種類、避けるべきタスク - これによりCopilotが意図に基づいてより関連性の高い回答を提供できるようになります。
</details>

**Q10. スペースが参照するリポジトリコードのバージョンについて正しい記述はどれか？**
- A) 添付時点のコードスナップショットを保持する
- B) 常にリポジトリのメインブランチ上の最新バージョンを参照する
- C) 任意のブランチを選択して固定できる
- D) 過去の特定コミットを指定できる

<details>
<summary>解答</summary>
B) 常にリポジトリのメインブランチ上の最新バージョンを参照する - スペースは常にリポジトリのメインブランチ上の最新バージョンのコードを参照します。
</details>

**Q11. スペースの検出可能性を向上させるために推奨される方法は？**
- A) スペースを非公開に設定し、URLを共有しない
- B) 明確で目的に基づくタイトルと説明を使用し、組織のカタログに登録する
- C) できるだけ多くのファイルを添付する
- D) 説明を空白のままにして柔軟性を保つ

<details>
<summary>解答</summary>
B) 明確で目的に基づくタイトルと説明を使用し、組織のカタログに登録する - 検出可能性を高めるには、目的に基づくタイトル、スコープを示す説明、一貫した名前付け規則、組織ディレクトリへの登録が推奨されます。
</details>

**Q12. スペースのガバナンスで「レビュー周期」を設定する際に推奨されるタイミングは？**
- A) 毎日
- B) 毎時間
- C) リリースごと、または毎月など定期的な周期
- D) 問題が発生した時のみ

<details>
<summary>解答</summary>
C) リリースごと、または毎月など定期的な周期 - 軽量かつ意図的なガバナンスとして、リリースごとや毎月などの定期的なレビュー周期を設定し、リンクの検証、プロンプトのテスト、例の更新を行います。
</details>

**Q13. スペースの名前付け規則として推奨される形式は？**
- A) ランダムな英数字の組み合わせ
- B) 「ServiceName - Onboarding Helper」のような目的を示す形式
- C) 作成日時のみ（例：2024-01-15）
- D) 作成者のユーザーIDのみ

<details>
<summary>解答</summary>
B) 「ServiceName - Onboarding Helper」のような目的を示す形式 - 名前付け規則を確立し、サービス名やチーム名をプレフィックスとして使用することで、スペース間の一貫性と検出可能性が向上します。
</details>

**Q14. スペースで応答がずれた場合の最適な対処法は？**
- A) より多くのソースを追加してコンテキストを増やす
- B) 指示を絞り、1〜3の高品質な例を追加し、ノイズの多いソースを削除する
- C) 新しいスペースを作成してやり直す
- D) @メンションで他のユーザーに助けを求める

<details>
<summary>解答</summary>
B) 指示を絞り、1〜3の高品質な例を追加し、ノイズの多いソースを削除する - 応答がずれた場合は、指示を絞り、「良い」出力を示す1〜3の高品質な例を追加し、ノイズの多いまたは無関係なソースを削除して反復することが推奨されます。
</details>

**Q15. スペース内でコンテキストを新鮮かつ整理された状態に保つための推奨事項として正しいものは？**
- A) 手動でファイル内容をコピー＆ペーストする
- B) すべてのファイルをアップロードする
- C) バージョン管理ファイルをリンクし、重要なソース/例を先頭に配置する
- D) 毎日新しいスペースを作成する

<details>
<summary>解答</summary>
C) バージョン管理ファイルをリンクし、重要なソース/例を先頭に配置する - バージョン管理されたファイルをリンクすることでリポジトリの既定ブランチの進化に合わせて反映され、順序が応答に影響する可能性があるため重要なソースを先頭に配置します。
</details>

**Q16. スペースに含まれていないコンテンツについて、正しい理解は？**
- A) Copilotは自動的にインターネットから関連情報を取得する
- B) 明示的に添付したリポジトリ検索以外、外部資料は発見されない
- C) すべてのGitHubリポジトリにアクセスできる
- D) 組織内のすべてのスペースを横断検索する

<details>
<summary>解答</summary>
B) 明示的に添付したリポジトリ検索以外、外部資料は発見されない - 環境が明示的に添付したリポジトリ検索をサポートしている場合を除き、Copilotは含まれていないコンテンツを取得したり、外部資料を発見したりしません。
</details>

**Q17. スペースでのファイル順序が応答に与える影響について正しいものは？**
- A) ファイル順序は応答に影響しない
- B) アルファベット順に自動ソートされる
- C) 順序が応答に影響する可能性があるため、重要なソースを先頭に配置する
- D) 最後に追加したファイルが最優先される

<details>
<summary>解答</summary>
C) 順序が応答に影響する可能性があるため、重要なソースを先頭に配置する - ファイルの順序は応答に影響を与える可能性があるため、最も重要なソースや例を先頭に配置することが推奨されます。
</details>
